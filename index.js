<p dir="auto">import express from "express";</p><p dir="auto">import cors from "cors";</p><p dir="auto">import { OpenAI } from "openai";</p><p dir="auto">const app = express();</p><p dir="auto">const port = process.env.PORT || 3000;</p><p dir="auto">app.use(cors());</p><p dir="auto">app.use(express.json());</p><p dir="auto">// your OpenAI key (keep this safe â€” DO NOT share)</p><p dir="auto">const openai = new OpenAI({</p><p dir="auto">  apiKey: process.env.OPENAI_API_KEY</p><p dir="auto">});</p><p dir="auto">app.post("/generate", async (req, res) =&gt; {</p><p dir="auto">  const { audience, offer, hook } = req.body;</p><p dir="auto">  const prompt = <code>Write a persuasive cold DM for ${audience}. Offer: ${offer}. Bonus: ${hook}. Make it friendly, short, and conversion-focused.</code>;</p><p dir="auto">  try {</p><p dir="auto">    const completion = await openai.completions.create({</p><p dir="auto">      model: "text-davinci-003",</p><p dir="auto">      prompt: prompt,</p><p dir="auto">      max_tokens: 150,</p><p dir="auto">      temperature: 0.7,</p><p dir="auto">    });</p><p dir="auto">    res.json({ dm: completion.choices[0].text.trim() });</p><p dir="auto">  } catch (error) {</p><p dir="auto">    console.error("Error generating DM:", error);</p><p dir="auto">    res.status(500).json({ error: "Something went wrong." });</p><p dir="auto">  }</p><p dir="auto">});</p><p dir="auto">app.listen(port, () =&gt; {</p><p dir="auto">  console.log(`Server is running on port ${port}`);</p><p dir="auto">});</p>